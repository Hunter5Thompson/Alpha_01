# PostgreSQL Database Configuration (for docker-compose)
# IMPORTANT: Change these credentials in production!
POSTGRES_DB=ragdb
POSTGRES_USER=rag
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Database Connection URL
# Must match the PostgreSQL credentials above
DATABASE_URL=postgresql+psycopg://rag:CHANGE_ME_IN_PRODUCTION@db:5432/ragdb

# Data Directory
DATA_DIR=/data

# Auto-ingest files from data directory on startup
AUTO_INGEST=true

# OpenAI API Configuration
# Required for embeddings and reranking
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_EMBED_MODEL=text-embedding-3-large

# Reranking Configuration
RERANK_PROVIDER=openai
RERANK_MODEL=gpt-4o-mini

# LLM Provider Configuration
# Options: "anthropic" or "openai"
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-7-sonnet-20250219

# Anthropic API Configuration
# Required if LLM_PROVIDER=anthropic
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Chunking Configuration
# Max tokens per chunk
MAX_TOKENS=220
# Overlap between chunks
OVERLAP_TOKENS=40

# Retrieval Configuration
# Number of chunks to retrieve from similarity search
RETRIEVAL_K=8
# Number of top chunks to use after reranking
RERANK_TOP_K=5

# File Upload Configuration
# Maximum file size in MB
MAX_FILE_SIZE_MB=50

# Allowed File Extensions (comma-separated)
# Default: .pdf,.docx,.pptx,.html,.htm,.png,.jpg,.jpeg,.md,.txt
ALLOWED_EXTENSIONS=.pdf,.docx,.pptx,.html,.htm,.png,.jpg,.jpeg,.md,.txt

# Security Notes:
# 1. NEVER commit .env files with real credentials to version control
# 2. Use strong, unique passwords for production databases
# 3. Rotate API keys regularly
# 4. Limit API key permissions to only what's needed
# 5. Use environment-specific API keys (dev, staging, prod)
# 6. Monitor API usage and set up billing alerts
# 7. Enable rate limiting on your API keys if available
